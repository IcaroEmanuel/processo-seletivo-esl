<div class="container table-responsive">
  <h1>Reserva de Sala</h1>

  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th scope="col">Horários</th>

        <% @weekdays.each do |weekday| %>
          <th scope="col"><%= weekday.name %></th>
        <% end %>
      </tr>
    </thead>
    <tbody>
      <% @timeslots.each do |timeslot| %>
        <tr>
          <th scope="row"><%= timeslot.start_time.strftime('%H:%M') %></th>

          <% @weekdays.each do |weekday| %>
            <% if reservation_exists?(weekday.id, timeslot.id) %>
              <td>
                Reservado para <%= find_user_by_reservation(timeslot.id, weekday.id) %>
              </td>
            <% else %>
              <td>Disponível</td>
            <% end %>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
